# LiuTech åšå®¢ç³»ç»Ÿéƒ¨ç½²æ–‡æ¡£

> **ä½œè€…**ï¼šåˆ˜é‘«  
> **æ›´æ–°æ—¶é—´**ï¼š2025-08-27

## ğŸ“‹ ç›®å½•
1. [é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ ˆæ¶æ„](#2-æŠ€æœ¯æ ˆæ¶æ„)
3. [ç¯å¢ƒè¦æ±‚](#3-ç¯å¢ƒè¦æ±‚)
4. [æ•°æ®åº“é…ç½®](#4-æ•°æ®åº“é…ç½®)
5. [åç«¯éƒ¨ç½²](#5-åç«¯éƒ¨ç½²)
6. [å‰ç«¯éƒ¨ç½²](#6-å‰ç«¯éƒ¨ç½²)
7. [Nginx é…ç½®](#7-nginx-é…ç½®)
8. [Docker å®¹å™¨åŒ–éƒ¨ç½²](#8-docker-å®¹å™¨åŒ–éƒ¨ç½²)
9. [ç¯å¢ƒå˜é‡é…ç½®](#9-ç¯å¢ƒå˜é‡é…ç½®)
10. [ç›‘æ§ä¸ç»´æŠ¤](#10-ç›‘æ§ä¸ç»´æŠ¤)
11. [æ•…éšœæ’é™¤](#11-æ•…éšœæ’é™¤)

---

## 1. é¡¹ç›®æ¦‚è¿°

LiuTech æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ”¯æŒæ–‡ç« å‘å¸ƒã€åˆ†ç±»ç®¡ç†ã€æ ‡ç­¾ç³»ç»Ÿã€ç”¨æˆ·è®¤è¯ã€æ–‡ä»¶ä¸Šä¼ ç­‰åŠŸèƒ½ã€‚

### 1.1 é¡¹ç›®ç»“æ„
```
MyBlog/
â”œâ”€â”€ LiuTech/                # Spring Boot åç«¯
â”‚   â”œâ”€â”€ src/main/java/      # Java æºç 
â”‚   â”œâ”€â”€ src/main/resources/ # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ pom.xml            # Maven ä¾èµ–
â”œâ”€â”€ Web/                    # Vue 3 å‰ç«¯
â”‚   â”œâ”€â”€ src/               # Vue æºç 
â”‚   â”œâ”€â”€ public/            # é™æ€èµ„æº
â”‚   â””â”€â”€ package.json       # NPM ä¾èµ–
â””â”€â”€ pom.xml                # çˆ¶æ¨¡å— Maven é…ç½®
```

---

## 2. æŠ€æœ¯æ ˆæ¶æ„

### 2.1 å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šVue 3.5.17 + TypeScript 5.8.3
- **æ„å»ºå·¥å…·**ï¼šVite 7.1.3
- **çŠ¶æ€ç®¡ç†**ï¼šPinia 3.0.3
- **è·¯ç”±ç®¡ç†**ï¼šVue Router 4.5.1
- **HTTP å®¢æˆ·ç«¯**ï¼šAxios 1.10.0
- **å¯Œæ–‡æœ¬ç¼–è¾‘**ï¼šTinyMCE 7.9.1
- **æ ·å¼é¢„å¤„ç†**ï¼šSass
- **UI ç»„ä»¶**ï¼šSweetAlert2ï¼ˆå¼¹çª—æç¤ºï¼‰

### 2.2 åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šSpring Boot 3.5.4
- **JDK ç‰ˆæœ¬**ï¼šJava 21
- **ORM æ¡†æ¶**ï¼šMyBatis-Plus 3.5.12
- **æ•°æ®åº“**ï¼šMySQL 8.3.0
- **å®‰å…¨æ¡†æ¶**ï¼šSpring Security + JWT 0.11.5
- **æ—¥å¿—æ¡†æ¶**ï¼šLogback (SLF4J)
- **æ–‡æ¡£å·¥å…·**ï¼šå·²æœ‰ API æ–‡æ¡£
- **æ„å»ºå·¥å…·**ï¼šMaven 3.x

### 2.3 éƒ¨ç½²æ¶æ„
- **å‰ç«¯**ï¼šhttp://localhost:3000 (å¼€å‘) / Nginx (ç”Ÿäº§)
- **åç«¯**ï¼šhttp://localhost:8080 (Spring Bootå†…åµŒTomcat)
- **æ•°æ®åº“**ï¼šMySQL 8.0+ (æœ¬åœ°/äº‘æœåŠ¡å™¨)
- **æ–‡ä»¶å­˜å‚¨**ï¼šæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ + é™æ€èµ„æºæœåŠ¡

---

## 3. ç¯å¢ƒè¦æ±‚

### 3.1 å¼€å‘ç¯å¢ƒ
- **Node.js**ï¼šâ‰¥ 18.0.0 (æ¨è 20.x LTS)
- **npm**ï¼šâ‰¥ 9.0.0 æˆ– yarn â‰¥ 1.22.0
- **JDK**ï¼š21 (OpenJDK æˆ– Oracle JDK)
- **Maven**ï¼šâ‰¥ 3.6.0
- **MySQL**ï¼šâ‰¥ 8.0.0
- **Git**ï¼šæœ€æ–°ç‰ˆæœ¬

### 3.2 ç”Ÿäº§ç¯å¢ƒ
- **æœåŠ¡å™¨**ï¼šLinux (Ubuntu 20.04+/CentOS 7+)
- **å†…å­˜**ï¼šâ‰¥ 4GB RAM
- **å­˜å‚¨**ï¼šâ‰¥ 20GB å¯ç”¨ç©ºé—´
- **Nginx**ï¼šâ‰¥ 1.18.0
- **Docker** (å¯é€‰)ï¼šâ‰¥ 20.10.0

---

## 4. æ•°æ®åº“é…ç½®

### 4.1 MySQL å®‰è£…ä¸é…ç½®

#### Ubuntu/Debian ç³»ç»Ÿ
```bash
# å®‰è£… MySQL
sudo apt update
sudo apt install mysql-server

# å¯åŠ¨æœåŠ¡
sudo systemctl start mysql
sudo systemctl enable mysql

# å®‰å…¨é…ç½®
sudo mysql_secure_installation
```

#### CentOS/RHEL ç³»ç»Ÿ
```bash
# å®‰è£… MySQL
sudo yum update
sudo yum install mysql-server

# å¯åŠ¨æœåŠ¡
sudo systemctl start mysqld
sudo systemctl enable mysqld
```

### 4.2 æ•°æ®åº“åˆ›å»º
```sql
-- 1. åˆ›å»ºæ•°æ®åº“
CREATE DATABASE blog CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 2. åˆ›å»ºç”¨æˆ·ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ä¸“ç”¨ç”¨æˆ·ï¼‰
CREATE USER 'bloguser'@'localhost' IDENTIFIED BY 'your_secure_password';
GRANT ALL PRIVILEGES ON blog.* TO 'bloguser'@'localhost';
FLUSH PRIVILEGES;

-- 3. å¯¼å…¥è¡¨ç»“æ„ï¼ˆå‡è®¾æœ‰ sql.sql æ–‡ä»¶ï¼‰
USE blog;
SOURCE /path/to/your/sql.sql;
```

### 4.3 MySQL é…ç½®ä¼˜åŒ–
ç¼–è¾‘ `/etc/mysql/mysql.conf.d/mysqld.cnf`ï¼š
```ini
[mysqld]
# åŸºç¡€é…ç½®
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci

# æ€§èƒ½ä¼˜åŒ–
innodb_buffer_pool_size = 1G
innodb_log_file_size = 256M
max_connections = 200
query_cache_size = 0
query_cache_type = 0

# å®‰å…¨é…ç½®
bind-address = 127.0.0.1  # ä»…æœ¬åœ°è®¿é—®
sql_mode = STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
```

---

## 5. åç«¯éƒ¨ç½²

### 5.1 é…ç½®æ–‡ä»¶è®¾ç½®

#### å¼€å‘ç¯å¢ƒ (`application.yml`)
```yaml
spring:
  application:
    name: LiuTech
  main:
    allow-circular-references: true
  servlet:
    multipart:
      max-file-size: 100MB
      max-request-size: 100MB
      enabled: true
  datasource:
    url: jdbc:mysql://localhost:3306/blog?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      idle-timeout: 30000
      connection-timeout: 30000

mybatis-plus:
  mapper-locations: classpath:/mapper/**/*.xml
  type-aliases-package: chat.liuxin.liutech.model
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      id-type: auto
      table-underline: true
      logic-delete-value: 1
      logic-not-delete-value: 0

server:
  port: 8080
  tomcat:
    uri-encoding: UTF-8

logging:
  level:
    com.baomidou.mybatisplus: debug
    org.hibernate.orm.connections.pooling: WARN
```

#### ç”Ÿäº§ç¯å¢ƒ (`application-prod.yml`)
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/blog?allowPublicKeyRetrieval=true&useSSL=true&serverTimezone=Asia/Shanghai
    username: ${DB_USERNAME:bloguser}
    password: ${DB_PASSWORD:your_secure_password}
    hikari:
      maximum-pool-size: 20
      minimum-idle: 10

mybatis-plus:
  configuration:
    log-impl: # ç”Ÿäº§ç¯å¢ƒå…³é—­ SQL æ—¥å¿—

server:
  port: ${SERVER_PORT:8080}

logging:
  level:
    root: INFO
    com.baomidou.mybatisplus: WARN
  file:
    name: logs/liutech.log
  logback:
    rollingpolicy:
      max-file-size: 10MB
      max-history: 30

file:
  upload:
    base-path: ${FILE_UPLOAD_PATH:/opt/uploads}
    url-prefix: /uploads
    max-file-size: 104857600  # 100MB
    max-image-size: 10485760  # 10MB
```

### 5.2 æ„å»ºä¸éƒ¨ç½²

#### æœ¬åœ°å¼€å‘è¿è¡Œ
```bash
# 1. è¿›å…¥åç«¯ç›®å½•
cd MyBlog/LiuTech

# 2. ç¼–è¯‘é¡¹ç›®
mvn clean compile

# 3. è¿è¡Œé¡¹ç›®
mvn spring-boot:run
```

#### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# 1. æ‰“åŒ…é¡¹ç›®
cd MyBlog
mvn clean package -DskipTests

# 2. å¤åˆ¶ JAR æ–‡ä»¶åˆ°æœåŠ¡å™¨
scp LiuTech/target/liutech-backend-*.jar user@server:/opt/liutech/

# 3. åˆ›å»ºå¯åŠ¨è„šæœ¬
cat > /opt/liutech/start.sh << 'EOF'
#!/bin/bash
APP_NAME="liutech-backend"
JAR_FILE="/opt/liutech/liutech-backend-0.0.1-SNAPSHOT.jar"
PID_FILE="/opt/liutech/app.pid"

export JAVA_OPTS="-Xms512m -Xmx2g -Dspring.profiles.active=prod"
export DB_USERNAME="bloguser"
export DB_PASSWORD="your_secure_password"

start() {
    if [ -f $PID_FILE ] && kill -0 $(cat $PID_FILE) 2>/dev/null; then
        echo "Application is already running"
        return 1
    fi
    
    echo "Starting $APP_NAME..."
    nohup java $JAVA_OPTS -jar $JAR_FILE > /opt/liutech/logs/app.log 2>&1 &
    echo $! > $PID_FILE
    echo "$APP_NAME started with PID $(cat $PID_FILE)"
}

stop() {
    if [ ! -f $PID_FILE ]; then
        echo "No PID file found"
        return 1
    fi
    
    PID=$(cat $PID_FILE)
    echo "Stopping $APP_NAME (PID: $PID)..."
    kill $PID
    rm -f $PID_FILE
    echo "$APP_NAME stopped"
}

case "$1" in
    start)
        start
        ;;
    stop)
        stop
        ;;
    restart)
        stop
        sleep 2
        start
        ;;
    *)
        echo "Usage: $0 {start|stop|restart}"
        exit 1
        ;;
esac
EOF

chmod +x /opt/liutech/start.sh

# 4. åˆ›å»º systemd æœåŠ¡ï¼ˆå¯é€‰ï¼‰
cat > /etc/systemd/system/liutech.service << 'EOF'
[Unit]
Description=LiuTech Blog Backend
After=network.target mysql.service

[Service]
Type=forking
User=www-data
Group=www-data
WorkingDirectory=/opt/liutech
ExecStart=/opt/liutech/start.sh start
ExecStop=/opt/liutech/start.sh stop
ExecReload=/opt/liutech/start.sh restart
PIDFile=/opt/liutech/app.pid
Restart=on-failure
RestartSec=5

[Install]
WantedBy=multi-user.target
EOF

# å¯ç”¨æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl enable liutech
sudo systemctl start liutech
```

---

## 6. å‰ç«¯éƒ¨ç½²

### 6.1 å¼€å‘ç¯å¢ƒè¿è¡Œ
```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•
cd MyBlog/Web

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 6.2 ç”Ÿäº§ç¯å¢ƒæ„å»º
```bash
# 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# 2. æ„å»ºäº§ç‰©åœ¨ dist/ ç›®å½•
ls -la dist/
```

### 6.3 ç¯å¢ƒå˜é‡é…ç½®

#### å¼€å‘ç¯å¢ƒ (`.env.development`)
```env
VITE_APP_TITLE=LiuTech åšå®¢ç³»ç»Ÿ
VITE_API_BASE_URL=http://localhost:8080
VITE_APP_VERSION=1.0.0
```

#### ç”Ÿäº§ç¯å¢ƒ (`.env.production`)
```env
VITE_APP_TITLE=LiuTech åšå®¢ç³»ç»Ÿ
VITE_API_BASE_URL=https://api.liutech.com
VITE_APP_VERSION=1.0.0
```

---

## 7. Nginx é…ç½®

### 7.1 å®‰è£… Nginx
```bash
# Ubuntu/Debian
sudo apt install nginx

# CentOS/RHEL
sudo yum install nginx
```

### 7.2 ç«™ç‚¹é…ç½®
åˆ›å»º `/etc/nginx/sites-available/liutech`ï¼š
```nginx
# LiuTech åšå®¢ç³»ç»Ÿé…ç½®
server {
    listen 80;
    server_name your-domain.com www.your-domain.com;
    root /var/www/liutech;
    index index.html index.htm;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        try_files $uri $uri/ /index.html;
        expires 30d;
        add_header Cache-Control "public, no-transform";
    }

    # åç«¯ API ä»£ç†
    location /api/ {
        proxy_pass http://localhost:8080/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # è¶…æ—¶é…ç½®
        proxy_connect_timeout 30s;
        proxy_send_timeout 30s;
        proxy_read_timeout 30s;
        
        # ç¼“å†²é…ç½®
        proxy_buffering on;
        proxy_buffer_size 8k;
        proxy_buffers 8 8k;
    }

    # æ–‡ä»¶ä¸Šä¼ æ¥å£
    location /uploads/ {
        proxy_pass http://localhost:8080/uploads/;
        client_max_body_size 100M;
        proxy_request_buffering off;
    }

    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        access_log off;
    }

    # å®‰å…¨å¤´
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header Referrer-Policy "no-referrer-when-downgrade" always;
    add_header Content-Security-Policy "default-src 'self' http: https: data: blob: 'unsafe-inline'" always;

    # Gzip å‹ç¼©
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_proxied any;
    gzip_comp_level 6;
    gzip_types
        text/plain
        text/css
        text/xml
        text/javascript
        application/json
        application/javascript
        application/xml+rss
        application/atom+xml
        image/svg+xml;
}

# HTTPS é‡å®šå‘ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
server {
    listen 443 ssl http2;
    server_name your-domain.com www.your-domain.com;
    
    ssl_certificate /path/to/ssl/certificate.crt;
    ssl_certificate_key /path/to/ssl/private.key;
    
    # SSL ä¼˜åŒ–é…ç½®
    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 10m;
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;
    ssl_prefer_server_ciphers off;
    
    # å…¶ä»–é…ç½®åŒä¸Š...
}
```

### 7.3 å¯ç”¨ç«™ç‚¹
```bash
# åˆ›å»ºè½¯é“¾æ¥
sudo ln -s /etc/nginx/sites-available/liutech /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯ Nginx
sudo systemctl reload nginx
```

---

## 8. Docker å®¹å™¨åŒ–éƒ¨ç½²

### 8.1 Dockerfile é…ç½®

#### åç«¯ Dockerfile (`LiuTech/Dockerfile`)
```dockerfile
FROM openjdk:21-jdk-slim

LABEL maintainer="åˆ˜é‘«"
LABEL description="LiuTech åšå®¢ç³»ç»Ÿåç«¯"

# å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶ jar æ–‡ä»¶
COPY target/liutech-backend-*.jar app.jar

# åˆ›å»ºæ—¥å¿—ç›®å½•
RUN mkdir -p /app/logs

# æš´éœ²ç«¯å£
EXPOSE 8080

# å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=3s --start-period=60s --retries=3 \
    CMD curl -f http://localhost:8080/actuator/health || exit 1

# å¯åŠ¨å‘½ä»¤
ENTRYPOINT ["java", "-Dspring.profiles.active=prod", "-Xms512m", "-Xmx2g", "-jar", "app.jar"]
```

#### å‰ç«¯ Dockerfile (`Web/Dockerfile`)
```dockerfile
# æ„å»ºé˜¶æ®µ
FROM node:20-alpine AS build

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

# ç”Ÿäº§é˜¶æ®µ
FROM nginx:alpine

LABEL maintainer="åˆ˜é‘«"
LABEL description="LiuTech åšå®¢ç³»ç»Ÿå‰ç«¯"

# å¤åˆ¶æ„å»ºäº§ç‰©
COPY --from=build /app/dist /usr/share/nginx/html

# å¤åˆ¶ Nginx é…ç½®
COPY nginx.conf /etc/nginx/conf.d/default.conf

# æš´éœ²ç«¯å£
EXPOSE 80

# å¯åŠ¨ Nginx
CMD ["nginx", "-g", "daemon off;"]
```

### 8.2 Docker Compose é…ç½®
åˆ›å»º `docker-compose.yml`ï¼š
```yaml
version: '3.8'

services:
  mysql:
    image: mysql:8.0
    container_name: liutech-mysql
    environment:
      MYSQL_ROOT_PASSWORD: ${DB_ROOT_PASSWORD}
      MYSQL_DATABASE: blog
      MYSQL_USER: bloguser
      MYSQL_PASSWORD: ${DB_PASSWORD}
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
      - ./sql.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - liutech-network
    restart: unless-stopped

  backend:
    build:
      context: ./LiuTech
      dockerfile: Dockerfile
    container_name: liutech-backend
    environment:
      SPRING_PROFILES_ACTIVE: prod
      DB_HOST: mysql
      DB_USERNAME: bloguser
      DB_PASSWORD: ${DB_PASSWORD}
    ports:
      - "8080:8080"
    volumes:
      - uploads_data:/opt/uploads
      - backend_logs:/app/logs
    depends_on:
      - mysql
    networks:
      - liutech-network
    restart: unless-stopped

  frontend:
    build:
      context: ./Web
      dockerfile: Dockerfile
    container_name: liutech-frontend
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./ssl:/etc/nginx/ssl:ro  # SSL è¯ä¹¦
    depends_on:
      - backend
    networks:
      - liutech-network
    restart: unless-stopped

volumes:
  mysql_data:
  uploads_data:
  backend_logs:

networks:
  liutech-network:
    driver: bridge
```

### 8.3 ç¯å¢ƒå˜é‡æ–‡ä»¶
åˆ›å»º `.env`ï¼š
```env
# æ•°æ®åº“é…ç½®
DB_ROOT_PASSWORD=your_root_password
DB_PASSWORD=your_secure_password

# åº”ç”¨é…ç½®
APP_ENV=production
JWT_SECRET=your_jwt_secret_key

# æ–‡ä»¶ä¸Šä¼ é…ç½®
FILE_UPLOAD_PATH=/opt/uploads
```

### 8.4 Docker éƒ¨ç½²å‘½ä»¤
```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d --build

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f backend

# åœæ­¢æœåŠ¡
docker-compose down

# å¤‡ä»½æ•°æ®å·
docker run --rm -v liutech_mysql_data:/data -v $(pwd):/backup alpine tar czf /backup/mysql_backup.tar.gz -C /data .
```

---

## 9. ç¯å¢ƒå˜é‡é…ç½®

### 9.1 ç³»ç»Ÿç¯å¢ƒå˜é‡
```bash
# åœ¨ ~/.bashrc æˆ– /etc/environment ä¸­æ·»åŠ 
export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64
export SPRING_PROFILES_ACTIVE=prod
export DB_PASSWORD=your_secure_password
export JWT_SECRET=your_jwt_secret_key
export FILE_UPLOAD_PATH=/opt/uploads
```

### 9.2 åº”ç”¨é…ç½®
åç«¯æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–é…ç½®ï¼š
- `DB_USERNAME`ï¼šæ•°æ®åº“ç”¨æˆ·å
- `DB_PASSWORD`ï¼šæ•°æ®åº“å¯†ç 
- `SERVER_PORT`ï¼šæœåŠ¡ç«¯å£
- `FILE_UPLOAD_PATH`ï¼šæ–‡ä»¶ä¸Šä¼ è·¯å¾„

---

## 10. ç›‘æ§ä¸ç»´æŠ¤

### 10.1 æ—¥å¿—ç®¡ç†
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f /opt/liutech/logs/app.log

# æŸ¥çœ‹ Nginx æ—¥å¿—
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log

# æ—¥å¿—è½®è½¬é…ç½®
cat > /etc/logrotate.d/liutech << 'EOF'
/opt/liutech/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    copytruncate
}
EOF
```

### 10.2 æ€§èƒ½ç›‘æ§
```bash
# ç³»ç»Ÿèµ„æºç›‘æ§
htop
iostat -x 1

# Java åº”ç”¨ç›‘æ§
jps -l
jstat -gc <pid> 250

# æ•°æ®åº“ç›‘æ§
mysqladmin -u root -p processlist
mysqladmin -u root -p status
```

### 10.3 å¤‡ä»½ç­–ç•¥
```bash
# æ•°æ®åº“å¤‡ä»½è„šæœ¬
cat > /opt/scripts/backup_db.sh << 'EOF'
#!/bin/bash
BACKUP_DIR="/opt/backups/mysql"
DATE=$(date +%Y%m%d_%H%M%S)
DB_NAME="blog"

mkdir -p $BACKUP_DIR

mysqldump -u bloguser -p$DB_PASSWORD $DB_NAME | gzip > $BACKUP_DIR/blog_$DATE.sql.gz

# åˆ é™¤ 7 å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -name "blog_*.sql.gz" -mtime +7 -delete
EOF

chmod +x /opt/scripts/backup_db.sh

# æ·»åŠ åˆ° crontab
echo "0 2 * * * /opt/scripts/backup_db.sh" | crontab -
```

---

## 11. æ•…éšœæ’é™¤

### 11.1 å¸¸è§é—®é¢˜

#### åç«¯å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep 8080

# æ£€æŸ¥ Java è¿›ç¨‹
jps -l

# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
tail -f /opt/liutech/logs/app.log
```

#### æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
mysql -u bloguser -p -h localhost blog

# æ£€æŸ¥ MySQL çŠ¶æ€
systemctl status mysql
```

#### å‰ç«¯é¡µé¢ 404
```bash
# æ£€æŸ¥ Nginx é…ç½®
nginx -t

# æŸ¥çœ‹ Nginx é”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/error.log
```

#### æ–‡ä»¶ä¸Šä¼ å¤±è´¥
```bash
# æ£€æŸ¥ä¸Šä¼ ç›®å½•æƒé™
ls -la /opt/uploads
chown -R www-data:www-data /opt/uploads
chmod -R 755 /opt/uploads
```

### 11.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **æ•°æ®åº“ä¼˜åŒ–**
   - æ·»åŠ é€‚å½“çš„ç´¢å¼•
   - é…ç½® MySQL å‚æ•°ä¼˜åŒ–
   - å®šæœŸåˆ†ææ…¢æŸ¥è¯¢

2. **åº”ç”¨å±‚ä¼˜åŒ–**
   - å¯ç”¨ JVM å‚æ•°è°ƒä¼˜
   - é…ç½®è¿æ¥æ± å‚æ•°
   - å®æ–½ç¼“å­˜ç­–ç•¥

3. **å‰ç«¯ä¼˜åŒ–**
   - å¯ç”¨ Gzip å‹ç¼©
   - é…ç½®é™æ€èµ„æºç¼“å­˜
   - ä½¿ç”¨ CDN åŠ é€Ÿ

---

## ğŸ“ è”ç³»æ”¯æŒ

å¦‚æœ‰éƒ¨ç½²é—®é¢˜ï¼Œè¯·è”ç³»ï¼š
- **é‚®ç®±**ï¼šyour-email@example.com
- **é¡¹ç›®ä»“åº“**ï¼š[GitHub åœ°å€]
- **æ–‡æ¡£æ›´æ–°**ï¼š2025-08-27

---

*æœ¬æ–‡æ¡£å°†æ ¹æ®é¡¹ç›®å‘å±•æŒç»­æ›´æ–°ï¼Œè¯·å…³æ³¨æœ€æ–°ç‰ˆæœ¬ã€‚*