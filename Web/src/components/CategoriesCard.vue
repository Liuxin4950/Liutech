<template>
  <div class="card">
    <h4 class="card-title">ğŸ“‚ æ–‡ç« åˆ†ç±»</h4>
    <div v-if="loading" class="loading-text">åŠ è½½ä¸­...</div>
    <div v-else-if="categories.length === 0" class="empty-text">æš‚æ— åˆ†ç±»</div>
    <div v-else class="list gap-8">
      <div 
        v-for="category in categories" 
        :key="category.id" 
        class="flex flex-sb flex-ac p-12 bg-hover rounded link transition-slow border-l-3 hover-transform"
        @click="handleCategoryClick(category.id)"
      >
        <span class="font-medium">{{ category.name }}</span>
        <span class="badge">{{ category.postCount || 0 }}</span>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">


// å®šä¹‰props
interface Category {
  id: number
  name: string
  postCount?: number
}

interface Props {
  categories: Category[]
  loading?: boolean
}

const props = withDefaults(defineProps<Props>(), {
  loading: false
})

// å®šä¹‰äº‹ä»¶
const emit = defineEmits<{
  categoryClick: [categoryId: number]
}>()

// å¤„ç†åˆ†ç±»ç‚¹å‡»
const handleCategoryClick = (categoryId: number) => {
  emit('categoryClick', categoryId)
}
</script>

<style scoped>
/* ä½¿ç”¨å…¨å±€æ ·å¼ï¼Œè¿™é‡Œåªå®šä¹‰ç»„ä»¶ç‰¹æœ‰çš„æ ·å¼ */
</style>